# ๐ค ุฏููู ุงููุณุงููุฉ ูู Apex Platform  
## (Contributing to Apex Platform)

> โ๏ธ **ูุฐุง ููุณ ูุดุฑูุนูุง ุนุงุฏูููุง. ูุฐุง ูุธุงู SaaS ูุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู ุจูุนุงููุฑ ุตุงุฑูุฉ.**  
> **ุงูุงูุถูุงู = ุงูุงูุชุฒุงู ุงููุงูู ุจุงูุจุฑูุชูููู ุงูููุฏุณู.**

---

## ๐งญ 1. ุงูููุณูุฉ ุงูุฃุณุงุณูุฉ

ูู Apex Platformุ **ูู ููุฒุฉ ูู ูุญุฏุฉ ุฐุฑูุฉ (Atomic Unit)** ุชุชููู ูู **ุซูุงุซ ุทุจูุงุช ูุง ุชุชุฌุฒุฃ**:

| ุงูุทุจูุฉ | ุงููููุน | ุงููุณุคูููุฉ |
|-------|--------|-----------|
| **_frontend_** | `apps/` | ุงูุนุฑุถุ ุงูุชูุงุนูุ ุงูุชุญูู ูู ุงููุฏุฎูุงุช |
| **_backend_** | `packages/` ุฃู `services/` | ุงูููุทู ุงูุชุฌุงุฑูุ ุงูุฃูุงูุ ุงูุนุฒู ุจูู ุงููุณุชุฃุฌุฑูู |
| **_database_** | `prisma/` | ูููุฐุฌ ุงูุจูุงูุงุชุ ุงูุนูุงูุงุชุ ุงููููุฏ |

> โ **ูุง ููุณูุญ ุจุชุณููู ุฃู ุฌุฒุก ูููุฑุฏ.**  
> โ **ุงูููุฒุฉ ุงููุงููุฉ = ุงูุซูุงุซ ุทุจูุงุช + ุงูุงุฎุชุจุงุฑุงุช.**

---

## ๐๏ธ 2. ุฎุทูุงุช ุชูููุฐ ููุฒุฉ ุฌุฏูุฏุฉ (ูุซุงู: "ุฅุถุงูุฉ ุฎุตู")

### ุงูุฎุทูุฉ 1: ุงูุชุฎุทูุท
- ุญุฏุฏ ูุง ุฅุฐุง ูุงูุช ุงูููุฒุฉ ุชุญุชุงุฌ ุฅูู:
  - ูุงุฌูุฉ ูุณุชุฎุฏูุ โ ูุนู โ ุงุจุฏุฃ ุจู `apps/tenant-admin`
  - ููุทู ุฎูููุ โ ูุนู โ ุงุจุฏุฃ ุจู `packages/data`
  - ุญููู ุฌุฏูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ โ ูุนู โ ุนุฏูู `prisma/schema.prisma`

### ุงูุฎุทูุฉ 2: ุงูุชุทููุฑ ุงููุชุฒุงูู (ููุณ ูุชุณูุณู!)
- ูุง ุชูุชุจ ุงููุฑููุช ุฃูููุง ุซู "ุชุชุฐูุฑ" ุงูุจุงู.
- ุงูุชุญ ุซูุงุซ ููุงูุฐ:
  - ูุงูุฐุฉ ูู `page.tsx`
  - ูุงูุฐุฉ ูู `discount.resolver.ts`
  - ูุงูุฐุฉ ูู `schema.prisma`

### ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุฃูููุง (TDD)
- ุงูุชุจ ุงุฎุชุจุงุฑ E2E ููุดู (ูุฃู ุงูู API ุบูุฑ ููุฌูุฏ).
- ุงูุชุจ Resolver โ ููุฌุญ ุงูุงุฎุชุจุงุฑ ุงูุฌุฒุฆู.
- ุฃุถู ุงูุญูู ูู DB โ ููุฌุญ ุงูุงุฎุชุจุงุฑ ุงููุงูู.

### ุงูุฎุทูุฉ 4: ุงูุชุณููู
- ุชุฃูุฏ ูู ุชุนุจุฆุฉ **ูุงูุจ PR** ุจุงููุงูู.
- ุดุบูู:
  ```bash
  pnpm lint && pnpm type-check && pnpm test
  ```
- ูุง ุชุถุบุท "Create PR" ุญุชู ุชููู ุงูุซูุงุซ ุทุจูุงุช ุฌุงูุฒุฉ.

---

## ๐ 3. ุฃูุซูุฉ ุนูู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ (ููุงุฐุง ูุญุฏุซ)

| ุงูุฎุทุฃ | ุงูุนูุงูุจ |
|------|--------|
| "ูุณูุช ุฅุถุงูุฉ `tenantId` ูู ุงูุฌุฏูู" | PR ูุฑููุถ + ุงุฎุชุจุงุฑ ุงูุนุฒู ููุดู |
| "ูุชุจุช ูุฑููุช ุจุฏูู backend" | CI ูุฑูุถ PR: "No resolver found for query X" |
| "ุงุณุชุฎุฏูุช `any` ูู TypeScript" | Linter ููุดู โ ูุง ูููู ุงูุฏูุน |
| "ูู ุฃูุชุจ Migration" | Prisma Client ูุดูู โ ุงูุชุทุจูู ูููุงุฑ ูู staging |

> ๐ก **ุงูุชุฐููุฑ: ุงููุธุงู ูุง ูุณุงูุญ. ุงูุฃุฏูุงุช ุชุญููู ูู ููุณู.**

---

## ๐ 4. ููุงุฑุฏ ุฃุณุงุณูุฉ ูุฌุจ ูุฑุงุกุชูุง ูุจู ุงูุจุฏุก

| ุงูููู | ุงููุตู |
|------|------|
| [`ENGINEERING_PROTOCOL.md`](/ENGINEERING_PROTOCOL.md) | ุงูุนูุฏ ุงูููุฏุณู ุงูููุฒู |
| [`prisma/schema.prisma`](/prisma/schema.prisma) | ุงูุนููุฏ ุงูููุฑู ููุจูุงูุงุช |
| [`packages/security/src/schemas/`](/packages/security/src/schemas/) | ููุงุฐุฌ ุงูุชุญูู ุงูุฅูุฒุงููุฉ |
| [Architecture Decision Records (ADR)](/docs/adr/) | ููุงุฐุง ุงุฎุชุฑูุง ูู ุชูููุฉ |

---

## ๐งช 5. ุจูุฆุฉ ุงูุชุทููุฑ ุงููุญููุฉ

### ุงููุชุทูุจุงุช:
- Node.js 20+
- pnpm 8+
- Docker (ูู PostgreSQL, Redis)

### ุงูุชุดุบูู:
```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
pnpm install

# ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญููููุง
docker compose up -d db redis

# ุชูููุฏ Prisma Client
pnpm prisma generate

# ุชุดุบูู ุงูุชุทุจููุงุช
pnpm dev
```

> โ๏ธ **ูุง ุชุจุฏุฃ ุงูุชุทููุฑ ุฏูู ุชุดุบูู `pnpm dev` ูุงูุชุฃูุฏ ุฃู ุงููุธุงู ูุนูู ููู.**


---

## ๐ข 7. ูุซุงู ุชูููุฐ ููุฒุฉ Super Admin (ูุญุฏุฉ ุฐุฑูุฉ)
ุนูุฏ ุฅุถุงูุฉ ููุฒุฉ ูููุญุฉ ุงูุชุญูู ุงููุฑูุฒูุฉ (ูุซู "ุชุฌุฏูุฏ ุฑุฎุตุฉ"):
1. **Database**: ุฅุถุงูุฉ ุญููู ูู `License` ููุฏูู ูู `prisma/schema.prisma`.
2. **Backend**: 
   - ุฅูุดุงุก `RenewLicenseSchema` ูู `packages/security/src/schemas/super-admin/`.
   - ุฅุถุงูุฉ `renewLicense` resolver ูู `packages/data/src/resolvers/super-admin.resolver.ts`.
   - ุงูุชุฃูุฏ ูู ุงุณุชุฎุฏุงู `Apex-Tenant-ID: hq`.
3. **Frontend**: ุฅูุดุงุก ุงูุตูุญุฉ ูู `apps/super-admin/app/admin/licenses/page.tsx`.

---

## ๐ 8. ุดูุฑูุง ูุงูุถูุงูู

ูุญู ูุง ูุจุญุซ ุนู "ููู ููุชุจ ููุฏูุง".  
ูุญู ูุจุญุซ ุนู **ูููุฏุณูู ูุจููู ุฃูุธูุฉ**.

> "ุงูุชูุตูู ููุณ ุงุฎุชูุงุฑูุง. ูู ุนูุงูุฉ ุงูุงุญุชุฑุงู."  
> โ ูุฑูู ููุฏุณุฉ Apex Platform
